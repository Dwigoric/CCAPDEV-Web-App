import{a7 as ve,a8 as Pe,p as F,a9 as G,aa as oe,g as D,e as se,ab as ze,f as H,b as a,ac as ct,ad as mt,u as be,ae as ft,n as p,af as Ge,a2 as ke,ag as vt,ah as _e,m as z,ai as ue,aj as gt,ak as yt,al as pt,am as Vt,I as me,an as He,F as ne,K as fe,J as le,ao as bt,ap as kt,aq as wt,ar as Ct,as as ht,at as Pt,au as St,av as It,aw as xt,ax as At,ay as _t,az as Et,aA as Lt,aB as Nt,aC as $t,aD as Bt,aE as Tt,aF as qe,aG as Ut,aH as Dt,aI as jt,aJ as Ft,aK as Rt,aL as Mt,G as Ke,aM as Je,aN as Ot,i as zt,j as Gt,k as Ht,l as qt,V as Ee,aO as Kt,aP as Jt,_ as Wt,U as ye,B as Qt,E as Zt,a0 as Xt,a1 as Yt,r as ea,o as _,c as X,a as w,w as o,v as J,H as Y,q as W,t as O,$ as Le,L as Ne,A as ee,N as ta,x as te,z as aa,s as ae,aQ as na,Z as $e,y as la,d as x,Q as Be,a4 as sa,aR as oa,aS as ia,P as ra,M as pe,O as Ve,X as Te,aT as da,D as Ue,R as ua,T as ca}from"./index-0034d016.js";import{m as ma,V as De,a as fa}from"./VSelectionControl-210f8ad4.js";const We=(()=>ve.reduce((e,d)=>(e[d]={type:[Boolean,String,Number],default:!1},e),{}))(),Qe=(()=>ve.reduce((e,d)=>{const l="offset"+Pe(d);return e[l]={type:[String,Number],default:null},e},{}))(),Ze=(()=>ve.reduce((e,d)=>{const l="order"+Pe(d);return e[l]={type:[String,Number],default:null},e},{}))(),je={col:Object.keys(We),offset:Object.keys(Qe),order:Object.keys(Ze)};function va(e,d,l){let n=e;if(!(l==null||l===!1)){if(d){const r=d.replace(e,"");n+=`-${r}`}return e==="col"&&(n="v-"+n),e==="col"&&(l===""||l===!0)||(n+=`-${l}`),n.toLowerCase()}}const ga=["auto","start","end","center","baseline","stretch"],ya=F({cols:{type:[Boolean,String,Number],default:!1},...We,offset:{type:[String,Number],default:null},...Qe,order:{type:[String,Number],default:null},...Ze,alignSelf:{type:String,default:null,validator:e=>ga.includes(e)},...G(),...oe()},"VCol"),de=D()({name:"VCol",props:ya(),setup(e,d){let{slots:l}=d;const n=se(()=>{const r=[];let f;for(f in je)je[f].forEach(V=>{const v=e[V],g=va(f,V,v);g&&r.push(g)});const u=r.some(V=>V.startsWith("v-col-"));return r.push({"v-col":!u||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return ze(e.tag,{class:[n.value,e.class],style:e.style},(r=l.default)==null?void 0:r.call(l))}}}),Se=["start","end","center"],Xe=["space-between","space-around","space-evenly"];function Ie(e,d){return ve.reduce((l,n)=>{const r=e+Pe(n);return l[r]=d(),l},{})}const pa=[...Se,"baseline","stretch"],Ye=e=>pa.includes(e),et=Ie("align",()=>({type:String,default:null,validator:Ye})),Va=[...Se,...Xe],tt=e=>Va.includes(e),at=Ie("justify",()=>({type:String,default:null,validator:tt})),ba=[...Se,...Xe,"stretch"],nt=e=>ba.includes(e),lt=Ie("alignContent",()=>({type:String,default:null,validator:nt})),Fe={align:Object.keys(et),justify:Object.keys(at),alignContent:Object.keys(lt)},ka={align:"align",justify:"justify",alignContent:"align-content"};function wa(e,d,l){let n=ka[e];if(l!=null){if(d){const r=d.replace(e,"");n+=`-${r}`}return n+=`-${l}`,n.toLowerCase()}}const Ca=F({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ye},...et,justify:{type:String,default:null,validator:tt},...at,alignContent:{type:String,default:null,validator:nt},...lt,...G(),...oe()},"VRow"),Re=D()({name:"VRow",props:Ca(),setup(e,d){let{slots:l}=d;const n=se(()=>{const r=[];let f;for(f in Fe)Fe[f].forEach(u=>{const V=e[u],v=wa(f,u,V);v&&r.push(v)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return ze(e.tag,{class:["v-row",n.value,e.class],style:e.style},(r=l.default)==null?void 0:r.call(l))}}}),ha=F({start:Boolean,end:Boolean,...G(),...oe()},"VListItemAction"),Pa=D()({name:"VListItemAction",props:ha(),setup(e,d){let{slots:l}=d;return H(()=>a(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},l)),{}}});const Sa=F({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ct({origin:"center center",scrollStrategy:"block",transition:{component:mt},zIndex:2400})},"VDialog"),Me=D()({name:"VDialog",props:Sa(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,d){let{emit:l,slots:n}=d;const r=be(e,"modelValue"),{scopeId:f}=ft(),u=p();function V(c){var P,S;const k=c.relatedTarget,h=c.target;if(k!==h&&((P=u.value)!=null&&P.contentEl)&&((S=u.value)!=null&&S.globalTop)&&![document,u.value.contentEl].includes(h)&&!u.value.contentEl.contains(h)){const b=yt(u.value.contentEl);if(!b.length)return;const C=b[0],E=b[b.length-1];k===C?E.focus():C.focus()}}Ge&&ke(()=>r.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",V):document.removeEventListener("focusin",V)},{immediate:!0});function v(){var c;l("afterEnter"),(c=u.value)!=null&&c.contentEl&&!u.value.contentEl.contains(document.activeElement)&&u.value.contentEl.focus({preventScroll:!0})}function g(){l("afterLeave")}return ke(r,async c=>{var k;c||(await vt(),(k=u.value.activatorEl)==null||k.focus({preventScroll:!0}))}),H(()=>{const c=_e.filterProps(e),k=z({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps),h=z({tabindex:-1},e.contentProps);return a(_e,z({ref:u,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:r.value,"onUpdate:modelValue":P=>r.value=P,"aria-modal":"true",activatorProps:k,contentProps:h,role:"dialog",onAfterEnter:v,onAfterLeave:g},f),{activator:n.activator,default:function(){for(var P=arguments.length,S=new Array(P),b=0;b<P;b++)S[b]=arguments[b];return a(ue,{root:"VDialog"},{default:()=>{var C;return[(C=n.default)==null?void 0:C.call(n,...S)]}})}})}),gt({},u)}});const we=D()({name:"VCardActions",props:G(),setup(e,d){let{slots:l}=d;return pt({VBtn:{slim:!0,variant:"text"}}),H(()=>{var n;return a("div",{class:["v-card-actions",e.class],style:e.style},[(n=l.default)==null?void 0:n.call(l)])}),{}}}),Ia=F({opacity:[Number,String],...G(),...oe()},"VCardSubtitle"),xa=D()({name:"VCardSubtitle",props:Ia(),setup(e,d){let{slots:l}=d;return H(()=>a(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},l)),{}}}),Ce=Vt("v-card-title"),Aa=F({appendAvatar:String,appendIcon:me,prependAvatar:String,prependIcon:me,subtitle:[String,Number],title:[String,Number],...G(),...He()},"VCardItem"),_a=D()({name:"VCardItem",props:Aa(),setup(e,d){let{slots:l}=d;return H(()=>{var g;const n=!!(e.prependAvatar||e.prependIcon),r=!!(n||l.prepend),f=!!(e.appendAvatar||e.appendIcon),u=!!(f||l.append),V=!!(e.title!=null||l.title),v=!!(e.subtitle!=null||l.subtitle);return a("div",{class:["v-card-item",e.class],style:e.style},[r&&a("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?a(ue,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},l.prepend):a(ne,null,[e.prependAvatar&&a(fe,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&a(le,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),a("div",{class:"v-card-item__content"},[V&&a(Ce,{key:"title"},{default:()=>{var c;return[((c=l.title)==null?void 0:c.call(l))??e.title]}}),v&&a(xa,{key:"subtitle"},{default:()=>{var c;return[((c=l.subtitle)==null?void 0:c.call(l))??e.subtitle]}}),(g=l.default)==null?void 0:g.call(l)]),u&&a("div",{key:"append",class:"v-card-item__append"},[l.append?a(ue,{key:"append-defaults",disabled:!f,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},l.append):a(ne,null,[e.appendIcon&&a(le,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&a(fe,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),Ea=F({opacity:[Number,String],...G(),...oe()},"VCardText"),he=D()({name:"VCardText",props:Ea(),setup(e,d){let{slots:l}=d;return H(()=>a(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},l)),{}}}),La=F({appendAvatar:String,appendIcon:me,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:me,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...bt(),...G(),...He(),...kt(),...wt(),...Ct(),...ht(),...Pt(),...St(),...It(),...oe(),...xt(),...At({variant:"elevated"})},"VCard"),Oe=D()({name:"VCard",directives:{Ripple:_t},props:La(),setup(e,d){let{attrs:l,slots:n}=d;const{themeClasses:r}=Et(e),{borderClasses:f}=Lt(e),{colorClasses:u,colorStyles:V,variantClasses:v}=Nt(e),{densityClasses:g}=$t(e),{dimensionStyles:c}=Bt(e),{elevationClasses:k}=Tt(e),{loaderClasses:h}=qe(e),{locationStyles:P}=Ut(e),{positionClasses:S}=Dt(e),{roundedClasses:b}=jt(e),C=Ft(e,l),E=se(()=>e.link!==!1&&C.isLink.value),L=se(()=>!e.disabled&&e.link!==!1&&(e.link||C.isClickable.value));return H(()=>{const N=E.value?"a":e.tag,j=!!(n.title||e.title!=null),I=!!(n.subtitle||e.subtitle!=null),B=j||I,R=!!(n.append||e.appendAvatar||e.appendIcon),Q=!!(n.prepend||e.prependAvatar||e.prependIcon),Z=!!(n.image||e.image),q=B||Q||R,K=!!(n.text||e.text!=null);return Rt(a(N,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":L.value},r.value,f.value,u.value,g.value,k.value,h.value,S.value,b.value,v.value,e.class],style:[V.value,c.value,P.value,e.style],href:C.href.value,onClick:L.value&&C.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var $;return[Z&&a("div",{key:"image",class:"v-card__image"},[n.image?a(ue,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):a(Ke,{key:"image-img",cover:!0,src:e.image},null)]),a(Je,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),q&&a(_a,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),K&&a(he,{key:"text"},{default:()=>{var M;return[((M=n.text)==null?void 0:M.call(n))??e.text]}}),($=n.default)==null?void 0:$.call(n),n.actions&&a(we,null,{default:n.actions}),Ot(L.value,"v-card")]}}),[[Mt("ripple"),L.value&&e.ripple]])}),{}}});const Na=F({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...zt(),...ma()},"VSwitch"),$a=D()({name:"VSwitch",inheritAttrs:!1,props:Na(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,d){let{attrs:l,slots:n}=d;const r=be(e,"indeterminate"),f=be(e,"modelValue"),{loaderClasses:u}=qe(e),{isFocused:V,focus:v,blur:g}=Gt(e),c=p(),k=Ge&&window.matchMedia("(forced-colors: active)").matches,h=se(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),P=Ht(),S=se(()=>e.id||`switch-${P}`);function b(){r.value&&(r.value=!1)}function C(E){var L,N;E.stopPropagation(),E.preventDefault(),(N=(L=c.value)==null?void 0:L.input)==null||N.click()}return H(()=>{const[E,L]=qt(l),N=Ee.filterProps(e),j=De.filterProps(e);return a(Ee,z({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},u.value,e.class]},E,N,{modelValue:f.value,"onUpdate:modelValue":I=>f.value=I,id:S.value,focused:V.value,style:e.style}),{...n,default:I=>{let{id:B,messagesId:R,isDisabled:Q,isReadonly:Z,isValid:q}=I;const K={model:f,isValid:q};return a(De,z({ref:c},j,{modelValue:f.value,"onUpdate:modelValue":[$=>f.value=$,b],id:B.value,"aria-describedby":R.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:Q.value,readonly:Z.value,onFocus:v,onBlur:g},L),{...n,default:$=>{let{backgroundColorClasses:M,backgroundColorStyles:T}=$;return a("div",{class:["v-switch__track",k?void 0:M.value],style:T.value,onClick:C},[n["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](K)]),n["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](K)])])},input:$=>{let{inputNode:M,icon:T,backgroundColorClasses:ce,backgroundColorStyles:ge}=$;return a(ne,null,[M,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":T||e.loading},e.inset||k?void 0:ce.value],style:e.inset?void 0:ge.value},[n.thumb?a(ue,{defaults:{VIcon:{icon:T,size:"x-small"}}},{default:()=>[n.thumb({...K,icon:T})]}):a(Kt,null,{default:()=>[e.loading?a(Je,{name:"v-switch",active:!0,color:q.value===!1?void 0:h.value},{default:ie=>n.loader?n.loader(ie):a(Jt,{active:ie.isActive,color:ie.color,indeterminate:!0,size:"16",width:"2"},null)}):T&&a(le,{key:String(T),icon:T,size:"x-small"},null)]})])])}})}})}),{}}});const Ba={id:"profile-container"},Ta={id:"header"},Ua={id:"user-panel"},Da={id:"user-data"},ja={id:"username",class:"rounded-pill pa-1 px-3"},Fa={id:"user-description"},Ra={id:"contents"},Ma={id:"mode-switch"},Oa={key:1,id:"posts"},za={key:2,class:"bg-teal-darken-2 rounded-t-xl",id:"comments"},Ga={class:"comment-post-title mr-2 text-cyan-lighten-3"},Ha={key:0},qa={__name:"ProfileView",props:{username:{type:String,required:!0}},setup(e){document.title="Compact Donuts | Profile";const d=e,l=ye({id:"",username:"",description:"",image:""}),n=Qt(),{cachedPosts:r}=Zt(),f=p(null),u=p(!1),V=p([]),v=ye([]),g=ye([]),c=p(!0),k=p(!1),h=p(!1),P=p(""),S=p(""),b=p(!1),C=p(""),E=p(!1),L=p(null),N=p(""),j=p(""),I=p(""),B=p(""),R=p(""),Q=p(!1),Z=p(!1),q=p(!1),K=[i=>i.length<=20||"Username must be less than 20 characters",i=>/^[A-Za-z0-9]*$/.test(i)||"Username can only be alphanumeric"],$=[i=>i.length===0||i.length>=6||"Password must be at least 6 characters"],M=[...$,i=>i!==I.value||"New password cannot be the same as current password",i=>!!i||"New password is required"],T=[...$,i=>i===B.value||"Passwords do not match"];async function ce(){const{user:i}=await fetch(`${ee}/users/username/${d.username}`).then(t=>t.json());l.id=i.id,l.username=i.username,l.description=i.description,l.image=i.image,await Promise.all([ge(),ie()])}async function ge(){const{posts:i}=await fetch(`${ee}/posts/user/${l.id}`).then(t=>t.json());v.push(...i),c.value=!1}async function ie(){const{comments:i}=await fetch(`${ee}/comments/user/${l.id}`).then(t=>t.json());g.push(...i)}async function xe(i){let t=!1;const y=new FormData;if(N.value&&(y.append("username",N.value),t=!0),j.value&&(y.append("description",j.value),t=!0),i&&(y.append("avatar",i),t=!0),I.value&&B.value.length>0&&B.value===R.value&&(y.append("currentPassword",I.value),y.append("newPassword",B.value),t=!0),!t)return!1;const{token:s}=window.$cookies.get("credentials"),{user:m,error:A,message:re}=await fetch(`${ee}/users/${n.id}`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`},body:y}).then(U=>U.json());if(A)return re;n.username=m.username,n.description=m.description,n.image=i?m.image:n.image;for(const U of v)U.user.username=m.username,U.user.image=i?m.image:U.user.image;for(const U of r)U.user.id===n.id&&(U.user.username=m.username,U.user.image=i?m.image:U.user.image);return l.username=n.username,l.description=n.description,l.image=n.image,await Ue.replace({name:"profile",params:{username:n.username}}),!1}const Ae=()=>{N.value="",j.value="",I.value="",B.value="",R.value="",b.value=!1,C.value="",V.value=[]},st=async()=>{const{valid:i}=await L.value.validate();if(!i)return;E.value=!0,b.value=!1;let t;if(!f.value||!f.value.files||!f.value.files.length)t=await xe(null);else{const y=f.value.files[0];t=await xe(y)}E.value=!1,t?(b.value=!0,C.value=t):(u.value=!1,Ae())};function ot(i,{title:t,body:y}){const s=v.findIndex(A=>A.id===i);t&&(v[s].title=t),y&&(v[s].body=y),v[s].edited=Date.now();const m=r.findIndex(A=>A.id===i);t&&(r[m].title=t),y&&(r[m].body=y),r[m].edited=Date.now()}function it(i){const t=v.findIndex(s=>s.id===i);v.splice(t,1);const y=r.findIndex(s=>s.id===i);r.splice(y,1)}function rt(i,t){P.value=i,S.value=t}async function dt(i){const{token:t}=window.$cookies.get("credentials"),{comment:y,error:s,message:m}=await fetch(`${ee}/comments/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({body:S.value})}).then(re=>re.json());if(s){console.error(m);return}const A=g.findIndex(re=>re.id===i);g[A].body=y.body,g[A].edited=y.edited,P.value="",h.value=!1}async function ut(i){const{token:t}=window.$cookies.get("credentials"),{error:y,message:s}=await fetch(`${ee}/comments/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}).then(A=>A.json());if(y){console.error(s);return}const m=g.findIndex(A=>A.id===i);g.splice(m,1)}return Xt(ce),Yt(Ae),ke(()=>d.username,()=>{c.value=!0,v.splice(0,v.length),g.splice(0,g.length),ce()}),(i,t)=>{const y=ea("Waypoint");return _(),X(ne,null,[a(ta,{"title-custom-text":"Back to Feed"}),w("div",Ba,[w("div",Ta,[w("div",Ua,[w("div",Da,[a(fe,{size:"150",class:"mb-3",variant:"tonal"},{default:o(()=>[a(Ke,{src:l.image,alt:"Profile image","aspect-ratio":1},null,8,["src"])]),_:1}),w("span",ja,J(l.username),1)]),w("div",Fa,[w("span",null,J(l.description||"This user has not written a description yet."),1)])]),l.id===Y(n).id?(_(),W(Re,{key:0,justify:"center"},{default:o(()=>[a(Me,{modelValue:u.value,"onUpdate:modelValue":t[9]||(t[9]=s=>u.value=s),width:"80%"},{activator:o(({props:s})=>[a(te,z({id:"edit-btn"},s,{onClick:t[0]||(t[0]=m=>u.value=!0),icon:"mdi-pencil",type:"text",color:"primary"}),null,16)]),default:o(()=>[a(Oe,null,{default:o(()=>[a(Ce,null,{default:o(()=>t[14]||(t[14]=[w("span",{class:"text-h5"},"Edit User Information",-1)])),_:1}),a(he,null,{default:o(()=>[a(aa,{ref_key:"editForm",ref:L},{default:o(()=>[a(Re,null,{default:o(()=>[a(de,{cols:"12"},{default:o(()=>[t[15]||(t[15]=w("span",{class:"label1"},"New Username",-1)),a(ae,{label:"A user can go by many names, but they still keep their own identity.",modelValue:N.value,"onUpdate:modelValue":t[1]||(t[1]=s=>N.value=s),rules:K},null,8,["modelValue"]),t[16]||(t[16]=w("small",{class:"note"}," Username should be at least 1 character long. Otherwise, the empty string will not be saved ",-1))]),_:1}),a(de,{cols:"12"},{default:o(()=>[t[17]||(t[17]=w("span",{class:"label2"},"New Description",-1)),a(ae,{label:"Don't forget to bake it with love!",modelValue:j.value,"onUpdate:modelValue":t[2]||(t[2]=s=>j.value=s)},null,8,["modelValue"])]),_:1}),a(de,{cols:"12"},{default:o(()=>[t[18]||(t[18]=w("span",{class:"label2"},"New Profile Picture",-1)),a(na,{label:"Change profile picture",modelValue:V.value,"onUpdate:modelValue":t[3]||(t[3]=s=>V.value=s),accept:"image/*",clearable:"clearable",ref_key:"inputImage",ref:f},null,8,["modelValue"])]),_:1}),a(de,{cols:"12"},{default:o(()=>[t[19]||(t[19]=w("span",{class:"label2"},"Edit Password",-1)),t[20]||(t[20]=w("small",{class:"note"}," (Leave this field blank if you don't want to change your password) ",-1)),a(ae,{modelValue:I.value,"onUpdate:modelValue":t[4]||(t[4]=s=>I.value=s),label:"Current password",type:Q.value?"text":"password","append-inner-icon":Q.value?"mdi-eye":"mdi-eye-off",rules:$},null,8,["modelValue","type","append-inner-icon"]),a($e,null,{default:o(()=>[I.value?(_(),W(ae,{key:0,modelValue:B.value,"onUpdate:modelValue":t[5]||(t[5]=s=>B.value=s),label:"Enter your new password",type:Z.value?"text":"password","append-inner-icon":Z.value?"mdi-eye":"mdi-eye-off",rules:M},null,8,["modelValue","type","append-inner-icon"])):O("",!0)]),_:1}),a($e,null,{default:o(()=>[I.value?(_(),W(ae,{key:0,modelValue:R.value,"onUpdate:modelValue":t[6]||(t[6]=s=>R.value=s),label:"Confirm your new password",type:q.value?"text":"password","append-inner-icon":q.value?"mdi-eye":"mdi-eye-off",rules:T},null,8,["modelValue","type","append-inner-icon"])):O("",!0)]),_:1})]),_:1}),a(de,{cols:"12"},{default:o(()=>[a(te,{type:"submit",onClick:la(st,["prevent"]),loading:E.value,class:"Submit"},{default:o(()=>t[21]||(t[21]=[x(" Save Changes ")])),_:1},8,["loading"]),a(fa,{type:"error",closable:"closable",modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=s=>b.value=s),class:"mt-3"},{default:o(()=>[x(J(C.value),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},512)]),_:1}),a(we,null,{default:o(()=>[a(Be),a(te,{color:"red-darken-1",variant:"text",onClick:t[8]||(t[8]=s=>u.value=!1)},{default:o(()=>t[22]||(t[22]=[x(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):O("",!0)]),w("div",Ra,[w("div",Ma,[a($a,{modelValue:k.value,"onUpdate:modelValue":t[10]||(t[10]=s=>k.value=s),label:"Comments Mode",color:"teal-darken-3"},null,8,["modelValue"])]),c.value?(_(),W(y,{key:0},{default:o(()=>[a(sa)]),_:1})):O("",!0),!c.value&&!k.value?(_(),X("div",Oa,[(_(!0),X(ne,null,Le(v,s=>(_(),W(oa,{key:s.id,id:s.id,title:s.title,body:s.body,user:s.user,image:s.image,reactions:s.reactions,date:s.date,edited:s.edited,"on-edit":ot,"on-delete":it},null,8,["id","title","body","user","image","reactions","date","edited"]))),128))])):O("",!0),!c.value&&k.value&&g.length>0?(_(),X("div",za,[a(Ne,{lines:"three",class:"rounded-t-xl","bg-color":"teal-darken-2"},{default:o(()=>[(_(!0),X(ne,null,Le(g,s=>(_(),W(pe,{class:"rounded-xl",key:s.id,onClick:m=>Y(Ue).push({name:"post",params:{id:s.post.id}})},ia({prepend:o(()=>[a(fe,null,{default:o(()=>[a(le,null,{default:o(()=>t[23]||(t[23]=[x("mdi-comment")])),_:1})]),_:1})]),default:o(()=>[a(Ve,{class:"comment-header"},{default:o(()=>[w("span",Ga,J(s.post.title),1),a(le,{size:"x-small"},{default:o(()=>t[29]||(t[29]=[x(" mdi-clock ")])),_:1}),x(" "+J(Y(Te)(s.date).fromNow())+" ",1),s.edited?(_(),X("span",Ha,[a(le,{size:"x-small"},{default:o(()=>t[30]||(t[30]=[x(" mdi-pencil ")])),_:1}),x(" "+J(Y(Te)(s.edited).fromNow()),1)])):O("",!0)]),_:2},1024),a(da,null,{default:o(()=>[x(J(s.body),1)]),_:2},1024)]),_:2},[l.id===Y(n).id?{name:"append",fn:o(()=>[a(Pa,null,{default:o(()=>[a(ra,null,{activator:o(({props:m})=>[a(te,z({ref_for:!0},m,{size:"large",density:"compact",variant:"text",icon:"mdi-dots-vertical"}),null,16)]),default:o(()=>[a(Ne,null,{default:o(()=>[a(Me,{modelValue:h.value,"onUpdate:modelValue":t[13]||(t[13]=m=>h.value=m),width:"80%"},{activator:o(({props:m})=>[a(pe,z({ref_for:!0},m,{onClick:A=>rt(s.id,s.body)}),{default:o(()=>[a(Ve,null,{default:o(()=>t[24]||(t[24]=[x("Edit")])),_:1})]),_:2},1040,["onClick"])]),default:o(()=>[a(Oe,null,{default:o(()=>[a(Ce,null,{default:o(()=>t[25]||(t[25]=[x("Edit Comment")])),_:1}),a(he,null,{default:o(()=>[a(ae,{modelValue:S.value,"onUpdate:modelValue":t[11]||(t[11]=m=>S.value=m),label:"Comment",required:""},null,8,["modelValue"])]),_:1}),a(we,null,{default:o(()=>[a(Be),a(te,{color:"red darken-1",onClick:t[12]||(t[12]=m=>h.value=!1)},{default:o(()=>t[26]||(t[26]=[x(" Cancel ")])),_:1}),a(te,{color:"teal darken-1",onClick:m=>dt(s.id)},{default:o(()=>t[27]||(t[27]=[x(" Save ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"]),a(pe,{onClick:m=>ut(s.id)},{default:o(()=>[a(Ve,null,{default:o(()=>t[28]||(t[28]=[x("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),key:"0"}:void 0]),1032,["onClick"]))),128))]),_:1})])):O("",!0),Y(ua)("(min-width: 1024px)").value?(_(),W(ca,{key:3})):O("",!0)])])],64)}}},Wa=Wt(qa,[["__scopeId","data-v-f5e7f3a9"]]);export{Wa as default};
